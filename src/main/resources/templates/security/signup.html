[#ftl]
<div class="row">
    <div class="col-md-3 offset-md-3"></div>
    <div class="col-md-6" >
        <h3 class="text-center">${msg("signup.FREE_TITLE")}</h3>
        <h5 class="text-center">${msg("signup.SIGNUP_FREE")}</h5>
        <h5 class="small text-center">${msg("signup.FREE_DETAIL")}</h5>
        <p></p>
        <form class="m-t" role="form" method="POST" action="/signup">
            <div class="panel panel-default">
                <div class="panel-body">
                    <script >var principal  = [#if registration?? && registration.principal??]'${registration.principal}' [#else]''[/#if];
                    </script>
                    [#--
                     # CSRF
                     #--]
                    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
                    [#if registration?? && registration.providerUserId??]<input type="hidden" name="providerUserId" value="${registration.providerUserId}" />[/#if]
                    [#if registration?? && registration.imgUrl??] <input type="hidden" name="imgUrl" value="${registration.imgUrl}" />[/#if]

                    [#--
                     # Context id
                     #--]
                    <input type="hidden" name="contextId" value="${contextId!1}" />
                    <div id="form-group-email" class="form-group">
                        <div class="input-group">
                            <input type="email" required="true" id="email"
                                   data-ng-model="principal" name="principal"
                                   data-ng-blur="saveEmail(principal)"
                                   placeholder="E-mail" class="form-control">

                            <span class="input-group-addon" data-ng-hide="principalExisting">
                                          <i class="fa fa-check" style="color:green;" ></i>
                                          </span>
                            <span class="input-group-addon" data-ng-show="principalExisting">
                                          <i class="fa fa-close" style="color:red;" ></i>
                                          </span>
                        </div>
                    </div>
                    <div data-ng-show="principalExisting">
                        <div class="alert alert-danger alert-dismissible" role="alert" data-ng-show="showAlerts" >
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <div>
                                <strong>x</strong> ${msg("signup.EMAIL_ALREADY_REGISTERED")}
                            </div>
                        </div>
                    </div>
                    <div>
                        [#if enableCellPhone?? ]
                        <div class="form-group" >
                            <input type="text" class="form-control" name="cellPhone"  value="${registration.cellPhone}" placeholder="${msg('signup.CELLPHONE')}"
                                   required="" />
                        </div>
                        [/#if]
                        <div class="form-group" >
                            <input type="text" class="form-control" name="firstName"  value="${registration.firstName}" placeholder="${msg('signup.NAME')}" required="" />
                        </div>
                        <div id="input-group-lastName" class="form-group">
                            <input type="text" required="true" name="lastName" id="lastName" value="${registration.lastName}" placeholder="${msg('signup.LAST_NAME')}" class="form-control">
                        </div>
                        <div id="input-group-admin" class="form-group">
                            <input type="text" required="true" name="lastName" id="entityAlias" value="${registration.entityAlias!''}" placeholder="${msg('signup.DOMAIN_NAME')}" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div id="input-group-submit" class="form-group">
                        <button type="submit" class="form-control btn btn-primary full-width" data-ng-disabled="principalExisting"> ${msg('signup.SEND_SIGNUO_EMAIL')} </button>
                    </div>
                </div>
                <div class="panel-footer">
                    <div class="row">
                        <div class="col-md-6"> ${msg("signup.ALREADY_HAVE_ACCOUNT")}</div>
                        <div class="col-md-6">	<a class="pull-right" href="/login">${msg("signup.BACK_TO_LOGIN")}</a></div>
                    </div>
                </div>
            </div>
            <div class="text-center">
                <p >${msg("signup.SIGNUP_FREE_TEXT")}</p>
            </div>
        </form>
    </div>
</div>
